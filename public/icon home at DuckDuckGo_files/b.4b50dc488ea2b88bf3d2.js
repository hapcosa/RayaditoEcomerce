String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),
/**
 * Array.prototype.includes() polyfill
 * @author Chris Ferdinandi
 * @license MIT
 */
Array.prototype.includes||(Array.prototype.includes=function(e,t){"use strict";if(e instanceof RegExp)throw TypeError("first argument must not be a RegExp");return void 0===t&&(t=0),-1!==this.indexOf(e,t)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],s=0;s<n;){var r=t[s];if(e.call(i,r,s,t))return r;s++}},configurable:!0,writable:!0}),function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var i=(new Date).getTime(),s=Math.max(0,16-(i-e)),r=window.setTimeout((function(){t(i+s)}),s);return e=i+s,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),Math.log10=Math.log10||function(e){return Math.log(e)*Math.LOG10E},Array.from||(Array.from=function(){var e;try{e=Symbol.iterator?Symbol.iterator:"Symbol(Symbol.iterator)"}catch(r){e="Symbol(Symbol.iterator)"}var t=Object.prototype.toString,n=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},i=Math.pow(2,53)-1,s=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),i)};return function(t){var i=Object(t),r=n(i[e]);if(null==t&&!r)throw new TypeError("Array.from requires an array-like object or iterator - not null or undefined");var a,o=arguments.length>1?arguments[1]:void 0;if(void 0!==o){if(!n(o))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2])}var c=s(i.length);return function(e,t,n,i,s,r){for(var a=0;a<n||s;){var o=i(a),c=s?o.value:o;if(s&&o.done)return t;t[a]=r?void 0===e?r(c,a):r.call(e,c,a):c,a+=1}if(s)throw new TypeError("Array.from: provided arrayLike or iterator has length more then 2 ** 52 - 1");return t.length=n,t}(a,n(this)?Object(new this(c)):new Array(c),c,function(t,n){var i=t&&n[e]();return function(e){return t?i.next():n[e]}}(r,i),r,o)}}()),"function"!=typeof Array.prototype.findIndex&&(Array.prototype.findIndex=function(e,t){if(null===this)throw new TypeError("Cannot read property 'findIndex' of null");if("function"!=typeof e)throw new TypeError(typeof e+" is not a function");for(var n=this.length,i=-1,s=0;s<n;s++)if(e.call(t,this[s],s,this)){i=s;break}return i}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){var n=t>0?0|t:0;return this.substring(n,n+e.length)===e}}),String.prototype.padStart||Object.defineProperty(String.prototype,"padStart",{configurable:!0,writable:!0,value:function(e,t){return e|=0,t=String(void 0!==t?t:" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))}}),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(e){e.hasOwnProperty("prepend")||Object.defineProperty(e,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach((function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))})),this.insertBefore(t,this.firstChild)}})})),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var s=arguments[i];if(null!=s)for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},writable:!0,configurable:!0}),function(e){var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(){this._events={},this._conf&&i.call(this,this._conf)}function i(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners&&(this._events.maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),this.wildcard&&(this.listenerTree={}))}function s(e){this._events={},this.newListener=!1,i.call(this,e)}function r(e,t,n,i){if(!n)return[];var s,a,o,c,l,u,d,p=[],f=t.length,h=t[i],m=t[i+1];if(i===f&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(s=0,a=n._listeners.length;s<a;s++)e&&e.push(n._listeners[s]);return[n]}if("*"===h||"**"===h||n[h]){if("*"===h){for(o in n)"_listeners"!==o&&n.hasOwnProperty(o)&&(p=p.concat(r(e,t,n[o],i+1)));return p}if("**"===h){for(o in(d=i+1===f||i+2===f&&"*"===m)&&n._listeners&&(p=p.concat(r(e,t,n,f))),n)"_listeners"!==o&&n.hasOwnProperty(o)&&("*"===o||"**"===o?(n[o]._listeners&&!d&&(p=p.concat(r(e,t,n[o],f))),p=p.concat(r(e,t,n[o],i))):p=o===m?p.concat(r(e,t,n[o],i+2)):p.concat(r(e,t,n[o],i)));return p}p=p.concat(r(e,t,n[h],i+1))}if((c=n["*"])&&r(e,t,c,i+1),l=n["**"])if(i<f)for(o in l._listeners&&r(e,t,l,f),l)"_listeners"!==o&&l.hasOwnProperty(o)&&(o===m?r(e,t,l[o],i+2):o===h?r(e,t,l[o],i+1):((u={})[o]=l[o],r(e,t,{"**":u},i+1)));else l._listeners?r(e,t,l,f):l["*"]&&l["*"]._listeners&&r(e,t,l["*"],f);return p}function a(e,n){for(var i=0,s=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;i+1<s;i++)if("**"===e[i]&&"**"===e[i+1])return;for(var r=this.listenerTree,a=e.shift();a;){if(r[a]||(r[a]={}),r=r[a],0===e.length){if(r._listeners){if("function"==typeof r._listeners)r._listeners=[r._listeners,n];else if(t(r._listeners)&&(r._listeners.push(n),!r._listeners.warned)){var o=10;void 0!==this._events.maxListeners&&(o=this._events.maxListeners),o>0&&r._listeners.length>o&&(r._listeners.warned=!0)}}else r._listeners=n;return!0}a=e.shift()}return!0}s.prototype.delimiter=".",s.prototype.setMaxListeners=function(e){this._events||n.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e},s.prototype.event="",s.prototype.once=function(e,t){return this.many(e,1,t),this},s.prototype.many=function(e,t,n){var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function s(){0==--t&&i.off(e,s),n.apply(this,arguments)}return s._origin=n,this.on(e,s),i},s.prototype.emit=function(){this._events||n.call(this);var e,t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var i=arguments.length,s=new Array(i-1),a=1;a<i;a++)s[a-1]=arguments[a];for(a=0,i=this._all.length;a<i;a++)this.event=t,this._all[a].apply(this,s)}if("error"===t&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(this.wildcard){e=[];var o="string"==typeof t?t.split(this.delimiter):t.slice();r.call(this,e,o,this.listenerTree,0)}else e=this._events[t];if("function"==typeof e){if(this.event=t,1===arguments.length)e.call(this);else if(arguments.length>1)switch(arguments.length){case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,s=new Array(i-1),a=1;a<i;a++)s[a-1]=arguments[a];e.apply(this,s)}return!0}if(e){for(i=arguments.length,s=new Array(i-1),a=1;a<i;a++)s[a-1]=arguments[a];var c=e.slice();for(a=0,i=c.length;a<i;a++)this.event=t,c[a].apply(this,s);return c.length>0||!!this._all}return!!this._all},s.prototype.on=function(e,i){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof i)throw new Error("on only accepts instances of Function");if(this._events||n.call(this),this.emit("newListener",e,i),this.wildcard)return a.call(this,e,i),this;if(this._events[e]){if("function"==typeof this._events[e])this._events[e]=[this._events[e],i];else if(t(this._events[e])&&(this._events[e].push(i),!this._events[e].warned)){var s=10;void 0!==this._events.maxListeners&&(s=this._events.maxListeners),s>0&&this._events[e].length>s&&(this._events[e].warned=!0)}}else this._events[e]=i;return this},s.prototype.onAny=function(e){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},s.prototype.addListener=s.prototype.on,s.prototype.off=function(e,n){if("function"!=typeof n)throw new Error("removeListener only takes instances of Function");var i,s=[];if(this.wildcard){var a="string"==typeof e?e.split(this.delimiter):e.slice();s=r.call(this,null,a,this.listenerTree,0)}else{if(!this._events[e])return this;i=this._events[e],s.push({_listeners:i})}for(var o=0;o<s.length;o++){var c=s[o];if(i=c._listeners,t(i)){for(var l=-1,u=0,d=i.length;u<d;u++)if(i[u]===n||i[u].listener&&i[u].listener===n||i[u]._origin&&i[u]._origin===n){l=u;break}if(l<0)continue;return this.wildcard?c._listeners.splice(l,1):this._events[e].splice(l,1),0===i.length&&(this.wildcard?delete c._listeners:delete this._events[e]),this}(i===n||i.listener&&i.listener===n||i._origin&&i._origin===n)&&(this.wildcard?delete c._listeners:delete this._events[e])}return this},s.prototype.offAny=function(e){var t,n=0,i=0;if(e&&this._all&&this._all.length>0){for(n=0,i=(t=this._all).length;n<i;n++)if(e===t[n])return t.splice(n,1),this}else this._all=[];return this},s.prototype.removeListener=s.prototype.off,s.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||n.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),i=r.call(this,null,t,this.listenerTree,0),s=0;s<i.length;s++){i[s]._listeners=null}else{if(!this._events[e])return this;this._events[e]=null}return this},s.prototype.listeners=function(e){if(this.wildcard){var i=[],s="string"==typeof e?e.split(this.delimiter):e.slice();return r.call(this,i,s,this.listenerTree,0),i}return this._events||n.call(this),this._events[e]||(this._events[e]=[]),t(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},s.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof define&&define.amd?define((function(){return s})):"object"==typeof exports?exports.EventEmitter2=s:window.EventEmitter2=s}(),window.Bootstrap={BACKDATA_PARAM:"sexp",Data:{}},
/**
 * stackframe 1.3.4 with modifications
 * @author Eric Wendelin and other contributors
 * @license MIT
 */
function(e){"use strict";function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}var n=["isCtor","isEval","isNative","isToplevel"],i=["col","line"],s=["file","fn","source"],r=n.concat(i,s);function a(e){if(e)for(var n=0;n<r.length;n++)void 0!==e[r[n]]&&this["set"+t(r[n])](e[r[n]])}a.prototype={toString:function(){var e=this.file||"",t=this.line||"",n=this.col||"",i=this.fn||"";return this.isEval?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:i?i+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n}},a.fromString=function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),i=e.substring(0,t),s=e.substring(n+1);if(0===s.indexOf("@"))var r=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(s,""),o=r[1],c=r[2],l=r[3];return new a({fn:i,file:o,line:c||void 0,col:l||void 0})};for(var o=0;o<n.length;o++)a.prototype["set"+t(n[o])]=function(e){return function(t){this[e]=Boolean(t)}}(n[o]);for(var c=0;c<i.length;c++)a.prototype["set"+t(i[c])]=function(e){return function(t){if(n=t,isNaN(parseFloat(n))||!isFinite(n))throw new TypeError(e+" must be a Number");var n;this[e]=Number(t)}}(i[c]);for(var l=0;l<s.length;l++)a.prototype["set"+t(s[l])]=function(e){return function(t){this[e]=String(t)}}(s[l]);e.StackFrame=a}(Bootstrap),
/**
 * error-stack-parser 2.1.4 with modifications
 * @author Eric Wendelin and other contributors
 * @license MIT
 */
function(e){"use strict";var t=e.StackFrame,n=/^\s*at .*(\S+:\d+|\(native\))/m,i=/^(eval@)?(\[native code])?$/;e.ErrorStackParser={parse:function(e){if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter((function(e){return!!e.match(n)}),this).map((function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var n=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),i=n.match(/ (\(.+\)$)/);n=i?n.replace(i[0],""):n;var s=this.extractLocation(i?i[1]:n),r=i&&n||void 0,a=["eval","<anonymous>"].indexOf(s[0])>-1?void 0:s[0];return new t({fn:r,file:a,line:s[1],col:s[2],source:e})}),this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter((function(e){return!e.match(i)}),this).map((function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new t({fn:e});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,i=e.match(n),s=i&&i[1]?i[1]:void 0,r=this.extractLocation(e.replace(n,""));return new t({fn:s,file:r[0],line:r[1],col:r[2],source:e})}),this)}}}(Bootstrap),function(e){e.getAllHistoryState=function(){for(var e,t={},n=/\+/g,i=/([^&=]+)=?([^&]*)/g,s=(window.location.search+window.location.hash).substring(1),r=function(e){try{e=decodeURIComponent(e.replace(n," "))}catch(t){}return e};e=i.exec(s);)t[r(e[1])]=r(e[2]);return t},e.getHistoryState=function(t){return e.getAllHistoryState()[t]},e.isWindowsPhone=function(e){return e=e||navigator.userAgent.toLowerCase(),!!/windows phone/.test(e)},e.isOSX=function(e){return e=e||navigator.userAgent.toLowerCase(),!!/mac os x [0-9]/.test(e)},e.isIPadOS=function(t){return t=t||navigator.userAgent.toLowerCase(),e.isOSX(t)&&navigator.maxTouchPoints},e.isIPad=function(t){return t=t||navigator.userAgent.toLowerCase(),!(!e.isIPadOS(t)&&!/ipad/.test(t))},e.isIPhone=function(t){return t=t||navigator.userAgent.toLowerCase(),!(e.isWindowsPhone(t)||!/iphone/.test(t))},e.isIDevice=function(t){return t=t||navigator.userAgent.toLowerCase(),e.isIPad(t)||e.isIPhone(t)||/\Wios\W/.test(t)},e.isIOS8p=function(t){return t=t||navigator.userAgent.toLowerCase(),!(!e.isIDevice(t)||!e.isIPadOS(t)&&!/os (8|9|[1-9][0-9])|os 10_10/.test(t))},e.isFirefox=function(e){return e=e||navigator.userAgent.toLowerCase(),!!/firefox|fxios/.test(e)},e.isBrave=function(t){return t=t||navigator.userAgent.toLowerCase(),!!navigator.brave&&"function"==typeof navigator.brave.isBrave||e.isIOS8p(t)&&e.isFirefox(t)&&/(\d{2}\.){3}\d{2}/.test(t)||/brave chrome/.test(t)},e.isIE=function(e){return e=e||navigator.userAgent.toLowerCase(),!!/msie|trident/.test(e)},e.isDDGTest=function(e){return e=e||navigator.userAgent.toLowerCase(),!!/ddgtest/.test(e)},e.isOnion=function(e){return!!(e=e||window.location.host).match(/\.onion$/i)},e.isDDGApp=function(e,t){return e=e||navigator.userAgent.toLowerCase(),t=t||window.location.search,!!navigator.duckduckgo&&"ios"===navigator.duckduckgo.platform||!(!t||!t.match(/(\&|\?)t\=(ddg_ios|ddg_android)/))||/DuckDuckGo\/[0-9]/i.test(e)},e.isDDGmacOS=function(e){return e=e||navigator.userAgent.toLowerCase(),!!navigator.duckduckgo&&"macos"===navigator.duckduckgo.platform||/^mozilla\/.*\(macintosh;.*\).*applewebkit\/.*\(khtml, like gecko\)$/.test(e)},e.isDDGwindows=function(){return!!navigator.duckduckgo&&"windows"===navigator.duckduckgo.platform},e.isChrome=function(t){t=t||navigator.userAgent.toLowerCase();var n=!!/edge\//.test(t);return!(!!(!/chrome(?!frame)|crios/.test(t)||e.isIE(t)||n)||/opr\/[0-9][0-9]?/.test(t))},e.isEnglish=function(){return window.locale&&"en"===window.locale.substring(0,2)},e.hostRegion=(window._bootstrapBackendData||{}).hostRegion,e.isMobile=(window._bootstrapBackendData||{}).isMobile,e.isDesktop=(window._bootstrapBackendData||{}).isDesktop,e.bingMarket=(window._bootstrapBackendData||{}).bingMarket,e.isExtensionInstalled=function(){return"duckduckgo"in navigator&&"extension"===navigator.duckduckgo.platform},e.isExtensionInstalledLegacy=function(t,n){var i;if(t=t||navigator.userAgent.toLowerCase(),n=n||window.location.search,document.body){var s=document.createElement("div");s.className="ddg-extension-check ddg-extension-hide",document.body.appendChild(s),i="none"===window.getComputedStyle(s).display,document.body.removeChild(s)}else document.documentElement.classList.add("ddg-extension-check","ddg-extension-hide"),i="none"===window.getComputedStyle(document.documentElement).display,document.documentElement.classList.remove("ddg-extension-check","ddg-extension-hide");return i&&!e.isDDGApp(t,n)},e.PRODUCTS_META_IMAGE_VERTICAL_PRODUCT_ADS_EXPERIMENT={region:{"us-en":!0,"uk-en":!0,"de-de":!0,"fr-fr":!0},country:{US:!0,GB:!0,DE:!0,FR:!0}},e.DEFERRED_VERTICALS=["images","videos","news","maps_expanded","products","shopping","chat"],e._region=(window._bootstrapBackendData||{})._region,e.getRegion=function(){if(null!=window.kl)return window.kl;if(e._region)return e._region;for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var i=t[n].split("=");if(2===i.length){var s=i[0].trim(),r=i[1].trim();if("l"===s&&!/<|>|\//g.test(r))return r}}return""},e.isProductAdsMarket=function(){return!!(window._bootstrapBackendData||{}).showProductAds},e.isAutoAdsMarket=function(){return!!(window._bootstrapBackendData||{}).showAutoAds},e.isToursActivitiesMarket=function(){return!!(window._bootstrapBackendData||{}).showTourAds},e.isCreditCardsMarket=function(){return!!(window._bootstrapBackendData||{}).showCreditCardAds},e.isImageVerticalProductAdsMarket=function(t){var n=e.getRegion(),i=n&&"wt-wt"!==n;return!(""!==n&&"wt-wt"!==n||!e.PRODUCTS_META_IMAGE_VERTICAL_PRODUCT_ADS_EXPERIMENT.country[window.ct])||!(!i||!e.PRODUCTS_META_IMAGE_VERTICAL_PRODUCT_ADS_EXPERIMENT.region[n])},e.validateRequery=function(e){return["images","videos","news","maps","shopping"].indexOf(e)<0?null:e},e.TIMEOUT_DEEP_REQUEST=4e3,e.TIMEOUT_PRELOADED_DEEP_REQUEST=4750,e.shouldDeferDeep=function(t){var n=e.getAllHistoryState(),i=n.ia||!1,s=t?t(n.iar):n.iar,r=n.iax||!1,a=n.iaxm||!1,o=1===window.shfl;return"maps"===a||!!s&&"web"!==s||!!i&&(i===s&&"news"===i||i===r&&"news"!==r||"chat"===i)&&e.DEFERRED_VERTICALS.indexOf(i)>-1&&!("shopping"===i&&i===r&&!o)},e.addFrontendQsToBackendDeepUrl=function(t,n,i){var s=(i=i||{}).skipLinksService,r=n.addExperimentParameters(t),a=window._bootstrapBackendData||{};return!/&ext=/.test(t)&&a.hasExtension&&(r+="&ext=1"),!/&bpa=/.test(t)&&a.showProductAds&&(r+="&bpa=1"),!/&baa=/.test(t)&&a.showAutoAds&&(r+="&baa=1"),/&wrap=/.test(t)||(r+="&wrap=1"),s?r:e.getLinksURL(r)},e.getLinksURL=function(t,n){n=n||window.location.host;return/^staging\./.test(n)?"//staging-links.duckduckgo.com"+t:window.testTrafficType&&window.baseLinkUrl&&"testing"==window.baseLinkEnvName?"//"+window.baseLinkUrl+t:e.isDev?"//"+n+"/links"+t:"//links.duckduckgo.com"+t},e.getLocation=function(){return window.location},e.getSettingValue=function(t){var n=/<|>|\//g;if(window.settings_url_params&&t in window.settings_url_params&&!n.test(window.settings_url_params[t]))return window.settings_url_params[t];var i=e.getAllHistoryState();if(i&&t in i&&!n.test(i[t]))return i[t];var s=t.substring(1);if(document.cookie)for(var r=document.cookie.split(";"),a=0;a<r.length;a++){var o=r[a].split("=");if(2===o.length){var c=o[0].trim(),l=o[1].trim();if(c===s&&!n.test(l))return l}}}}(Bootstrap),function(e){function t(t,n){var i=Math.ceil(1e7*Math.random()),s=(e&&e.isDev?"/t/":"//improving.duckduckgo.com/t/")+"jse_"+t+"?"+i+Object.keys(n).reduce((function(e,t){return e+="&"+t+"="+n[t]}),"");window.navigator.sendBeacon?window.navigator.sendBeacon(s):(new Image).src=s}window.onerror=function(e,n,s,r,l){var u=function(e,t){var n;if("undefined"===e)return"ignore";var i="u";if(e){if(/^[a-zA-Z]+-extension/.test(e)||/^chrome-/.test(e))return"ignore-extension";if(!/^http/.test(e))return"ignore-protocol";/\/\?q=/.test(e)?(i="view",t&&t>1&&(i="ignore-extension")):i=/\/share\/spice/.test(e)?"spice":/\/share\/goodie/.test(e)?"goodie":/\/js\/spice/.test(e)?"spiceupstream":/\/b\d+\.js/.test(e)?"bootstrap":/\/d\d+\.js/.test(e)||/\/d\.[0-9a-f]+\.js/.test(e)?"base":/\/g\d+\.js/.test(e)||/\/g\.[0-9a-f]+\.js/.test(e)?"serp":/\/t\d+\.js/.test(e)||/\/t\.[0-9a-f]+\.js/.test(e)?"static":/\/util\/u\d+\.js/.test(e)||/\/util\/u\.[0-9a-f]+\.js/.test(e)?"util":/\/js\/.*\.js/.test(e)||/\/lib\/l\d+\.js/.test(e)||/\/lib\/l\.[0-9a-f]+\.js/.test(e)?"lib":(n=e.match(/\/wbm(m|l)\d+\.js/))||(n=e.match(/\/wp(m|l)\.main\.[0-9a-f]+\.js/))?"webpack_main_"+("m"===n[1]?"modern":"legacy"):(n=e.match(/\/wbv(m|l)\d+\.js/))||(n=e.match(/\/wp(m|l)v\.[0-9a-f]+\.js/))?"webpack_vendors_"+("m"===n[1]?"modern":"legacy"):/\/wbntm\d+\.js/.test(e)||/\/wpm\.newtab\.[0-9a-f]+\.js/.test(e)?"webpack_newtab_modern":/\/wbntv\d+\.js/.test(e)||/\/wpmv\.nt\.[0-9a-f]+\.js/.test(e)?"webpack_newtab_vendors":/\/bundle\.chunk\.(.*)\.(.*)\.js/.test(e)||/\/wpm\.[-0-9a-z]+\.[0-9a-f]+\.js/.test(e)?"webpack_chunk":(n=e.match(/\/([a-z]+)\.js/))?n[1]||"u":/\/mapkit\//.test(e)?"mapkit":"u"}return i}(n,s);if(n||e&&"Script error."!==e&&-1===e.indexOf("iframe[id='198230182308109283091823098102938908128390'])"))if(0!==u.indexOf("ignore")){var d=c()||"na",p="na",f="na";if(l instanceof Error){var h=o(l);p=h.message,f=h.stack||"na"}else p=a(e);t(u,{msg:encodeURIComponent(p||"na"),url:n?encodeURIComponent(i(n)):"na",line:s,col:r,didnotloadscripts:encodeURIComponent((window.didNotLoadScripts||[]).join(",")),stack:encodeURIComponent(f),href:encodeURIComponent(d)})}else t(u,{})},window.addEventListener("unhandledrejection",(function(e){var n="unhandledrejection",i="na",s="na";if(e)if(e.reason instanceof Error){var r=o(e.reason);i=r.message,s=r.stack||"na"}else"string"==typeof e.reason&&(i=a(e.reason));var l=c()||"na",u={msg:encodeURIComponent(i||"na"),didnotloadscripts:encodeURIComponent((window.didNotLoadScripts||[]).join(",")),stack:encodeURIComponent(s),href:encodeURIComponent(l)};n=function(e){var t="unhandledrejection";if(!e||"na"===e)return t;if(/^scheme-[a-zA-Z]+-extension/.test(e))return"ignore-extension-unhandledrejection";/\/mapkit\//.test(e)&&(t="mapkit-unhandledrejection");return t}(s),"unhandledrejection"===n&&"na"===i&&"na"===s&&(n="ignore-unhandledrejection"),0!==n.indexOf("ignore")?t(n,u):t(n,{})}));var n={q:!0,iai:!0,atb:!0,set_atb:!0,start:!0,end:!0,bbox:!0};function i(e){try{var t=new URL(e);return Object.keys(n).forEach((function(e){t.searchParams.has(e)&&(t.searchParams.get(e)?t.searchParams.set(e,"redacted"):t.searchParams.set(e,"empty"))})),t.href}catch(r){var i=e.split("?"),s="";return 2===i.length&&(s=i[1].split("&").map((function(e){var t=e.split("="),i=t[0]||"",s=t[1]||"";return null!=n[i]?s?i+"=redacted":i+"=empty":e})).join("&")),i[0]+(s?"?"+s:"")}}function s(n,i){if(!(e&&n instanceof Error&&n.stack))return"";if(e.isOnion())return"";var s,r,a=Object.assign({maxLength:500,maxFrames:30},i),o=a.maxLength,c=a.maxFrames,l=[];try{l=e.ErrorStackParser.parse(n)||[]}catch(m){s=m instanceof Error?m:void 0}if(0===l.length)return t("meta_stackparser",{msg:"Unable to parse error stack for redaction: "+(s?s.message:"unknown reason"),stack:"na"}),"";function u(e,t){return Object.assign(e,{file:"https://ddg.invalid/"+t,fn:"redactedFn",line:1,col:1})}for(r=0;r<l.length;r++){var d=l[r];if(null!=d.file){var p,f=d.file.indexOf("?");f>=0&&(d.file=d.file.slice(0,f));try{p=new URL(d.file,window.location.href)}catch(m){u(d,"malformed-filename");continue}"http:"===p.protocol||"https:"===p.protocol?""===p.port?"duckduckgo.com"===p.hostname||/\.duckduckgo\.com$/.test(p.hostname)?"/"===p.pathname||/\.js(\?.*)?$/.test(p.pathname)||u(d,"non-js-file"):u(d,"3p-hostname"):u(d,"non-standard-port"):u(d,"scheme-"+p.protocol.slice(0,-1))}else u(d,"no-filename")}var h=n.name+": "+n.message;for(r=0;r<l.length&&r<c&&h.length<=o;r++)h+="\n    at "+l[r].toString();return h}var r=new RegExp("([&?])("+Object.keys(n).join("|")+")=[a-zA-Z0-9-_.!~*'()+%]+","gi");function a(e){return"string"!=typeof e?"na":e.replace(r,(function(e,t,n){return t+n+"=redacted"}))}function o(e){return e.message=a(e.message),e.stack=s(e),e}function c(){if(null==e)return"";var t=e.getLocation(),n=t.pathname,s=t.href.slice();return window.rq&&t.pathname==="/"+window.rq&&(s=s.replace(n,"/redacted")),i(s)}e&&(e.redactErrorStack=s,e.redactErrorMessage=a,e.redactError=o,e.redactLocationHref=c)}(Bootstrap),function(e){function t(e){return((e||{}).state||{}).backData||{}}function n(e){return Math.ceil(e/1e3)}e.BackData=function(e){this._history=e||window.history,this._data=t(this._history),this.ready=!1,this.isLoadedFromBfCache=null,this.timeLoadedFromBfCache=null,this._bouncebackDuration=null,this._boundHandlePageShow=this._handlePageShow.bind(this),window.addEventListener("pageshow",this._boundHandlePageShow)},e.BackData.prototype=Object.assign({},EventEmitter2.prototype,{destroy:function(){window.removeEventListener("pageshow",this._boundHandlePageShow),this.removeAllListeners()},_handlePageShow:function(e){this._data=t(this._history);var i=Date.now();e&&e.persisted?(this.isLoadedFromBfCache=!0,this.timeLoadedFromBfCache=i):(this.isLoadedFromBfCache=!1,this.timeLoadedFromBfCache=null),this.isBounceBack()&&this.getData().timeExternalLinkClicked?(this._bouncebackDuration=Math.min(100,5*Math.ceil((n(i)-this.getData().timeExternalLinkClicked)/5)),this.getData().timeExternalLinkClicked=null):this._bouncebackDuration=null,this._history&&this._history.replaceState&&this._history.state&&this._history.replaceState(Object.assign({},this._history.state,{backData:{isSerpReturn:!0}}),""),this.ready=!0,this.emit("ready",this.ready)},set:function(e,i,s){i&&i.timestamp&&delete(i=Object.assign({},i)).timestamp,s=Object.assign({isBounceSignal:!0},s),i.timeExternalLinkClicked&&(i.timeExternalLinkClicked=n(i.timeExternalLinkClicked)),this._history&&this._history.replaceState&&this._history.replaceState(Object.assign({},this._history.state,{backData:{id:e,data:i,isSerpReturn:t(this._history).isSerpReturn,isBounceSignal:!!s.isBounceSignal,hasRichFacts:i.hasRichFacts}}),"")},getId:function(){return this._data.id},getData:function(){return this._data.data||{}},isBounceBack:function(){return!!this._data.isBounceSignal},isSerpReturn:function(){return!!this._data.isSerpReturn},getBounceBackDuration:function(){return this.isBounceBack&&this._bouncebackDuration?this._bouncebackDuration:null},getRichFactsApplicable:function(){return this.isBounceBack?this._data.hasRichFacts:null}})}(Bootstrap),Bootstrap.Data.SearchExperimentsDefinitions={duckplayerexp:{allocation:1,descriptions:"Port Duck Player modal to React",assignment:"frontend",persistent:!1,variants:["b"]},videosexp:{allocation:0,descriptions:"Port the videos vertical to React",assignment:"frontend",persistent:!1,variants:["a","b"]},biaexp:{allocation:1,assignment:"backend",variants:["b"],persistent:!1,services:["deep"]},msvrtexp:{allocation:1,assignment:"backend",variants:["b"],persistent:!1,services:["deep"]},ama5exp:{allocation:1,assignment:"frontend",variants:["b"],persistent:"bounce",services:["products"]},rspexp2:{allocation:0,assignment:"backend",variants:["a","b","e"],persistent:!1,services:["deep"]},videxp:{allocation:.05,assignment:"backend",variants:["a"],persistent:!1,services:["deep"]},uxexp:{allocation:0,assignment:"frontend",variants:["x","y","z"],persistent:"bounce"},tqcls:{allocation:0,assignment:"backend",variants:["a","b","c"],persistent:!1,services:["deep","products"]},qfcls:{allocation:0,assignment:"backend",variants:["a","b"],persistent:!1,services:["deep","products"]},eclsexp:{allocation:1,assignment:"backend",variants:["a","b"],persistent:!1,services:["deep","products"]},useclsexp:{allocation:.25,assignment:"backend",variants:["a","b"],persistent:!1,services:["deep","products"]},btaaexp:{allocation:1,assignment:"backend",variants:["b"],persistent:!1,services:["deep"]},bccaexp:{allocation:1,assignment:"backend",variants:["b"],persistent:!1,services:["deep"]},"3adexp":{exclusionGroup:"ads",allocation:[0,.1],assignment:"backend",variants:["a","b","c","d"],persistent:!1,services:["deep"]},qcluster1adexp:{exclusionGroup:"ads",allocation:[.1,1],assignment:"backend",variants:["a","b"],persistent:!1,services:["deep"]},mob3adexp:{exclusionGroup:"ads",allocation:[0,0],assignment:"backend",variants:["a","b","c"],persistent:!1,services:["deep","products","images"]},stexp:{allocation:0,assignment:"frontend",variants:["a","b","c"],persistent:!1},related_click:{allocation:0,assignment:"backend",variants:["a","b"],persistent:!1,services:["deep","products"]},related_requery:{allocation:0,assignment:"backend",variants:["a","b"],persistent:!1,services:["deep","products"]},related_done:{allocation:0,assignment:"backend",variants:["a","b"],persistent:!1,services:["deep","products"]},related:{allocation:0,assignment:"backend",variants:["a","b"],persistent:!1,services:["deep","products"]},pctaexp:{allocation:0,assignment:"frontend",variants:["b"],persistent:"bounce"},litexp:{allocation:1,assignment:"backend",variants:["a","b","c"],services:["deep"],persistent:!1},svpadexp:{allocation:0,assignment:"backend",variants:["a","b"],persistent:!1,services:["products"]},svpamexp:{allocation:0,assignment:"backend",variants:["a","b"],persistent:!1,services:["products"]},mapsexp:{assignment:"frontend",persistent:!1,variants:["b"],allocation:1},animated_download_exp:{assignment:"frontend",persistent:!1,allocation:0,variants:["d","e"]},duckchat_alpha:{assignment:"frontend",persistent:!1,allocation:1,variants:["b"]},shopping_image_size_desktop:{allocation:0,assignment:"frontend",variants:["a","b","c"],persistent:"bounce",services:["products"]},shopping_image_size_mobile:{allocation:0,assignment:"frontend",variants:["a","b"],persistent:"bounce",services:["products"]},pa_card_size_experiment_mobile:{exclusionGroup:"ads",allocation:[0,0],assignment:"backend",variants:["a","b","c"],persistent:!1,services:["deep","products","images"]},locstr_exp:{allocation:1,assignment:"frontend",variants:["b"],persistent:!1,services:["local"]},appstore_exp:{allocation:0,assignment:"frontend",variants:["a","b","c"],persistent:!1},binexp:{exclusionGroup:"ads",allocation:[0,0],assignment:"backend",variants:["a"],persistent:!1,services:["deep","products","images"]},you_news_high_conf_exp:{allocation:1,assignment:"frontend",persistent:!1,variants:["a","b"]},you_news_low_conf_exp:{allocation:.28,assignment:"frontend",persistent:!1,variants:["a","b"]},you_news_acceptance_exp:{allocation:.055,assignment:"frontend",persistent:!1,variants:["a","b"]},text_extensions_exp:{exclusionGroup:"ads",allocation:[0,0],descriptions:"Test new text ad extensions",assignment:"backend",persistent:!1,variants:["a","b"],services:["deep","products","images"]},localexp:{allocation:1,descriptions:"Local search frontend refactoring",assignment:"frontend",persistent:!1,variants:["b"]},duckassistexp:{allocation:0,descriptions:"Duckassist impact experiment",assignment:"frontend",persistent:!1,variants:["a","b"]},tjsexp:{allocation:0,descriptions:"Trigger cache (t.js) experiment",assignment:"backend",services:["deep"],persistent:!1,variants:["a","b"]},image_exp:{exclusionGroup:"ads",allocation:[0,0],descriptions:"Test new organic and ad images",assignment:"backend",persistent:!1,variants:["a","b"],services:["deep","products","images"]},bingloggingexp:{allocation:0,descriptions:"Temporary logging req/resp to bing for troubleshooting",assignment:"backend",persistent:!1,variants:["a"],services:["deep"]},mobileshoppingfiltersexp:{allocation:[0,0],exclusionGroup:"ads",assignment:"backend",services:["deep","products","images"],persistent:!1,variants:["a","b"]},feedbackexp:{allocation:1,descriptions:"Feedback system experiment",assignment:"frontend",persistent:!1,variants:["b"]},adblock_exp:{allocation:0,assignment:"frontend",persistent:!1,variants:["a"]},aboutmapsexp:{allocation:0,assignment:"backend",persistent:!1,services:["deep"],variants:["a","b"]},direxp:{allocation:1,assignment:"backend",persistent:!1,services:["deep"],variants:["b"]},mapsmapsexp:{allocation:0,assignment:"backend",persistent:!1,services:["deep"],variants:["a","b"]},navadexp:{allocation:[0,0],exclusionGroup:"ads",descriptions:"Experiment to enable(a) or disable(b) text ad extensions in navigational queries on desktop only",assignment:"backend",persistent:!1,variants:["a","b"],services:["deep"]},rfexp:{allocation:.5,assignment:"frontend",persistent:"bounce",variants:["a","b"]}},window.Bootstrap.SearchExperimentsData=[],function(e){var t={deep:["d.js","t.js"],local:["local.js","spice/maps/places","spice/maps/maps"],news:["news.js","spice/news"],images:["i.js","spice/images"],videos:["v.js","spice/videos"],products:["m.js","spice/amazon"],embed:["f.js"],nlp:["a.js"],stocks:["stocks.js"]},n=/^\/?((?:d|t|local|news|i|v|m|f|a|stocks).js)|\/js\/(spice\/.*)\//;function i(n,s,r,a){if(this._backData=a,this._experiments=Object.keys(n).sort().map((function(t){var i=n[t],r=!(e.isDDGTest()||"backend"!==i.assignment||!s||!(t in s));return Object.assign({},i,{key:t,assigned:r,active:!!r&&s[t].active,assignedVariant:r?s[t].assignedVariant:null})})),this._byKey=this._experiments.reduce((function(e,t){return e[t.key]=t,e}),{}),this._bounceDataAtInstantiation={},this._backData.isBounceBack()){var o=this._backData.getData();if(o){var c=o[i.BACKDATA_PARAM];c&&Object.keys(c).forEach((function(e){n[e]&&"bounce"===n[e].persistent&&"string"==typeof c[e]&&(this._bounceDataAtInstantiation[e]=c[e])}),this)}}this._urlDataAtInstantiation={};var l=e.getAllHistoryState();Object.keys(l).forEach((function(e){e in n&&"string"==typeof l[e]&&(this._urlDataAtInstantiation[e]=l[e])}),this),this._restoredExclusionGroups={},this._serviceForUrlPart=Object.keys(t).reduce((function(e,n){return t[n].forEach((function(t){e[t]=n})),e}),{}),this._eclusionGroupsRandomNumbers=this._experiments.reduce((function(e,t){return"exclusionGroup"in t&&!(t.exclusionGroup in e)&&"frontend"===t.assignment&&(e[t.exclusionGroup]=Math.random()),e}),r||{}),this._activeExperiments=null,this._pixelParams=null}i.BACKDATA_PARAM=e.BACKDATA_PARAM||"sexp",i.prototype.assign=function(t,n){if(e.isDDGTest())return!1;var i=this._byKey[t];if(!i)return!1;if("frontend"!==i.assignment)return!1;if(i.assigned)return!1;if(this._clearCache(),i.assigned=!0,n&&n.filter&&!n.filter.call(this))return!1;if("exclusionGroup"in i&&i.exclusionGroup&&!this._restoredExclusionGroups[i.exclusionGroup]){this._restoredExclusionGroups[i.exclusionGroup]=!0;var s=i.exclusionGroup,r=this._experiments.filter((function(e){return"exclusionGroup"in e&&e.exclusionGroup===s}));if(!(s in this._eclusionGroupsRandomNumbers))return r.forEach((function(e){e.allocation=[0,0]})),!1;var a=r.some((function(e){return"backend"===e.assignment}));if(a){var o=r.some((function(e){return e.persistent}));if(o)return r.forEach((function(e){e.allocation=[0,0]})),!1}var c=r.find((function(e){return e.key in this._urlDataAtInstantiation}),this);c||(c=r.find((function(e){return null!==this._getPersistedVariant(e)}),this)),c&&r.forEach((function(e){e!==c&&(e.allocation=[0,0])}))}var l=this._urlDataAtInstantiation[t];if(l)i.variants.includes(l)&&(i.assignedVariant=l,n&&n.deactivated||(i.active=!0));else{if("number"==typeof i.allocation&&i.allocation<=0||Array.isArray(i.allocation)&&i.allocation[0]<=0&&i.allocation[1]<=0)return!1;var u=i.persistent?this._getPersistedVariant(i):null;if(this._backData.isBounceBack()&&null===u&&"bounce"===i.persistent)return!1;if(null===u){if("exclusionGroup"in i||"number"!=typeof i.allocation)"exclusionGroup"in i&&Array.isArray(i.allocation)&&this._eclusionGroupsRandomNumbers[i.exclusionGroup]>=i.allocation[0]&&(this._eclusionGroupsRandomNumbers[i.exclusionGroup]<i.allocation[1]||1===i.allocation[1]&&this._eclusionGroupsRandomNumbers[i.exclusionGroup]===i.allocation[1])&&(u=i.variants[Math.floor(i.variants.length*Math.random())]);else{var d=Math.random();if(d>i.allocation)return!1;var p=i.allocation/i.variants.length,f=Math.floor(d/p);u=i.variants[f]}if(n&&n.postEnrollment&&null!==u){var h=n.postEnrollment.call(this,u,i.variants);i.variants.includes(h),u=h}}null!==u&&(i.assignedVariant=u,n&&n.deactivated||(i.active=!0))}return i.assigned},i.prototype.activate=function(e){var t=this._byKey[e];t&&null!==t.assignedVariant&&(this._clearCache(),t.active=!0)},i.prototype.deactivate=function(e){var t=this._byKey[e];t&&null!==t.assignedVariant&&(this._clearCache(),t.active=!1)},i.prototype.isActive=function(e){var t=this._byKey[e];return!(!t||!t.active)},i.prototype.getActiveVariant=function(e){var t=this._byKey[e];if(t)return t.active?t.assignedVariant:null},i.prototype.getExperimentGroup=function(e){return this.getActiveVariant(e)},i.prototype.getAssignedVariant=function(e){var t=this._byKey[e];if(t)return t.assignedVariant},i.prototype.addExperimentParameters=function(e){var t=e.match(n),i=t&&(t[1]||t[2]);if(!i)return e;var s=this._serviceForUrlPart[i];if(!s)return e;var r=[];if(this._experiments.forEach((function(e){e.services&&e.services.includes(s)&&r.push(e)})),!r.length)return e;var a=r.filter((function(t){if("deep"===s){var n=new RegExp("(\\?|&)"+t.key+"=");return t.active&&!n.test(e)}return t.active})).map((function(e){return e.key+"="+e.assignedVariant}));if(a.length){var o=-1===e.indexOf("?")?"?":"&";e+=o+a.join("&")}return e},i.prototype.getPixelParameters=function(){return null!==this._pixelParams?this._pixelParams:this._pixelParams=this._getActiveExperiments().map((function(e){return e.key+"="+e.assignedVariant})).join("&")},i.prototype.getActiveAssignments=function(){return this._getActiveExperiments().reduce((function(e,t){return null!==t.assignedVariant&&(e[t.key]=t.assignedVariant),e}),{})},i.prototype.hasActiveExperiments=function(){return!!this._getActiveExperiments().length},i.prototype._getActiveExperiments=function(){return null!==this._activeExperiments?this._activeExperiments:this._activeExperiments=this._experiments.filter((function(e){return e.active}))},i.prototype._clearCache=function(){this._pixelParams=null,this._activeExperiments=null},i.prototype._getPersistedVariant=function(e){return"bounce"===e.persistent&&e.key in this._bounceDataAtInstantiation?this._bounceDataAtInstantiation[e.key]:null},e.SearchExperiments=i}(Bootstrap),function(e){e.backData=new e.BackData(window.history);var t=e.searchExperiments=new e.SearchExperiments(e.Data.SearchExperimentsDefinitions,window.backendExperimentAssignments||{},window.backendRandomNumbers||{},e.backData);t.assign("ama5exp",{filter:function(){return"US"===window.ct||"DE"===window.ct}}),t.assign("uxexp"),t.assign("mxmexp"),t.assign("feedbackexp"),t.assign("shopping_image_size_desktop",{filter:function(){return!e.isMobile}}),t.assign("shopping_image_size_mobile",{filter:function(){return e.isMobile}}),t.assign("mapsexp"),t.assign("locstr_exp",{filter:function(){return"US"===window.ct}}),t.assign("videosexp"),t.assign("localexp"),t.assign("bouncebacktestingemptyexp"),t.assign("adblock_exp",{filter:function(){return!e.isMobile}}),t.assign("rfexp",{filter:function(){return"US"===window.ct}}),window.serpStoreDispatchQueue=[],e.safeSerpStoreDispatch=function(e){if(window.serpStore&&window.stores&&window.stores[e.actionCreatorFnName]){var t=window.stores[e.actionCreatorFnName].apply(null,e.params);window.serpStore.dispatch(t)}else window.serpStoreDispatchQueue.push({actionCreatorFnName:e.actionCreatorFnName,params:e.params})},window.__indexPayload__&&window.Bootstrap.safeSerpStoreDispatch({actionCreatorFnName:"createIndexSuccessAction",params:[window.__indexPayload__,{searchExperiments:e.searchExperiments,duckassistFrequency:String(e.getSettingValue("kbe"))}]})}(Bootstrap);